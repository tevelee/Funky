<!DOCTYPE html>
<html lang="en">
  <head>
    <title>nil-tolerant collections  Reference</title>
    <link rel="stylesheet" type="text/css" href="css/jazzy.css" />
    <link rel="stylesheet" type="text/css" href="css/highlight.css" />
    <meta charset="utf-8">
    <script src="js/jquery.min.js" defer></script>
    <script src="js/jazzy.js" defer></script>
    
    <script src="js/lunr.min.js" defer></script>
    <script src="js/typeahead.jquery.js" defer></script>
    <script src="js/jazzy.search.js" defer></script>
  </head>
  <body>


    <a title="nil-tolerant collections  Reference"></a>

    <header class="header">
      <p class="header-col header-col--primary">
        <a class="header-link" href="index.html">
          Funky Docs
        </a>
         (99% documented)
      </p>
    
      <p class="header-col--secondary">
        <form role="search" action="search.json">
          <input type="text" placeholder="Search documentation" data-typeahead>
        </form>
      </p>
    
        <p class="header-col header-col--secondary">
          <a class="header-link" href="https://github.com/tevelee/Funky">
            <img class="header-icon" src="img/gh.png"/>
            View on GitHub
          </a>
        </p>
    
        <p class="header-col header-col--secondary">
          <a class="header-link" href="dash-feed://https%3A%2F%2Ftevelee%2Egithub%2Eio%2FFunky%2Fdocsets%2FFunky%2Exml">
            <img class="header-icon" src="img/dash.png"/>
            Install in Dash
          </a>
        </p>
    </header>

    <p class="breadcrumbs">
      <a class="breadcrumb" href="index.html">Funky Reference</a>
      <img class="carat" src="img/carat.png" />
      nil-tolerant collections  Reference
    </p>

    <div class="content-wrapper">
      <nav class="navigation">
        <ul class="nav-groups">
          <li class="nav-group-name">
            <a class="nav-group-name-link" href="Guides.html">Guides</a>
            <ul class="nav-group-tasks">
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="getting-started.html">Getting started</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="nsarray-utilities.html">NSArray utilities</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="nsdictionary-utilities.html">NSDictionary utilities</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="nsobject-utilities.html">NSObject utilities</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="nsset-utilities.html">NSSet utilities</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="subpods.html">SubPods</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="nil-storing-collections.html">nil-storing collections</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="nil-tolerant-collections.html">nil-tolerant collections</a>
              </li>
            </ul>
          </li>
          <li class="nav-group-name">
            <a class="nav-group-name-link" href="Categories.html">Categories</a>
            <ul class="nav-group-tasks">
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Categories/NSArray(FunkyNilStoring).html">NSArray(FunkyNilStoring)</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Categories/NSArray(FunkyNilTolerant).html">NSArray(FunkyNilTolerant)</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Categories/NSArray(FunkyPrefixedUtilities).html">NSArray(FunkyPrefixedUtilities)</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Categories/NSArray(FunkyUtilities).html">NSArray(FunkyUtilities)</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Categories/NSDictionary(FunkyNilStoring).html">NSDictionary(FunkyNilStoring)</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Categories/NSDictionary(FunkyNilTolerant).html">NSDictionary(FunkyNilTolerant)</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Categories/NSDictionary(FunkyPrefixedUtilities).html">NSDictionary(FunkyPrefixedUtilities)</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Categories/NSDictionary(FunkyUtilities).html">NSDictionary(FunkyUtilities)</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Categories/NSMutableArray(FunkyNilStoring).html">NSMutableArray(FunkyNilStoring)</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Categories/NSMutableArray(FunkyNilTolerant).html">NSMutableArray(FunkyNilTolerant)</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Categories/NSMutableArray(FunkyPrefixedUtilities).html">NSMutableArray(FunkyPrefixedUtilities)</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Categories/NSMutableArray(FunkyUtilities).html">NSMutableArray(FunkyUtilities)</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Categories/NSMutableDictionary(FunkyNilStoring).html">NSMutableDictionary(FunkyNilStoring)</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Categories/NSMutableDictionary(FunkyNilTolerant).html">NSMutableDictionary(FunkyNilTolerant)</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Categories/NSMutableDictionary(FunkyPrefixedUtilities).html">NSMutableDictionary(FunkyPrefixedUtilities)</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Categories/NSMutableDictionary(FunkyUtilities).html">NSMutableDictionary(FunkyUtilities)</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Categories/NSMutableSet(FunkyNilStoring).html">NSMutableSet(FunkyNilStoring)</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Categories/NSMutableSet(FunkyNilTolerant).html">NSMutableSet(FunkyNilTolerant)</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Categories/NSMutableSet(FunkyPrefixedUtilities).html">NSMutableSet(FunkyPrefixedUtilities)</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Categories/NSMutableSet(FunkyUtilities).html">NSMutableSet(FunkyUtilities)</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Categories/NSObject(FunkyPrefixedUtilities).html">NSObject(FunkyPrefixedUtilities)</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Categories/NSObject(FunkyUtilities).html">NSObject(FunkyUtilities)</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Categories/NSSet(FunkyNilStoring).html">NSSet(FunkyNilStoring)</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Categories/NSSet(FunkyNilTolerant).html">NSSet(FunkyNilTolerant)</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Categories/NSSet(FunkyPrefixedUtilities).html">NSSet(FunkyPrefixedUtilities)</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Categories/NSSet(FunkyUtilities).html">NSSet(FunkyUtilities)</a>
              </li>
            </ul>
          </li>
          <li class="nav-group-name">
            <a class="nav-group-name-link" href="Classes.html">Classes</a>
            <ul class="nav-group-tasks">
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Classes/FunkyFilter.html">FunkyFilter</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Classes/FunkyNSArraySubclass.html">FunkyNSArraySubclass</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Classes/FunkyNSDictionarySubclass.html">FunkyNSDictionarySubclass</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Classes/FunkyNSMutableArraySubclass.html">FunkyNSMutableArraySubclass</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Classes/FunkyNSMutableDictionarySubclass.html">FunkyNSMutableDictionarySubclass</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Classes/FunkyNSMutableSetSubclass.html">FunkyNSMutableSetSubclass</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Classes/FunkyNSSetSubclass.html">FunkyNSSetSubclass</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Classes.html#/c:objc(cs)FunkyNilStoringNSArray">FunkyNilStoringNSArray</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Classes.html#/c:objc(cs)FunkyNilStoringNSDictionary">FunkyNilStoringNSDictionary</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Classes.html#/c:objc(cs)FunkyNilStoringNSMutableArray">FunkyNilStoringNSMutableArray</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Classes.html#/c:objc(cs)FunkyNilStoringNSMutableDictionary">FunkyNilStoringNSMutableDictionary</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Classes.html#/c:objc(cs)FunkyNilStoringNSMutableSet">FunkyNilStoringNSMutableSet</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Classes.html#/c:objc(cs)FunkyNilStoringNSSet">FunkyNilStoringNSSet</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Classes.html#/c:objc(cs)FunkyNilTolerantNSArray">FunkyNilTolerantNSArray</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Classes.html#/c:objc(cs)FunkyNilTolerantNSDictionary">FunkyNilTolerantNSDictionary</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Classes.html#/c:objc(cs)FunkyNilTolerantNSMutableArray">FunkyNilTolerantNSMutableArray</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Classes.html#/c:objc(cs)FunkyNilTolerantNSMutableDictionary">FunkyNilTolerantNSMutableDictionary</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Classes.html#/c:objc(cs)FunkyNilTolerantNSMutableSet">FunkyNilTolerantNSMutableSet</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Classes.html#/c:objc(cs)FunkyNilTolerantNSSet">FunkyNilTolerantNSSet</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Classes/FunkyPair.html">FunkyPair</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Classes/FunkySort.html">FunkySort</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Classes/FunkySortingBucket.html">FunkySortingBucket</a>
              </li>
            </ul>
          </li>
          <li class="nav-group-name">
            <a class="nav-group-name-link" href="Constants.html">Constants</a>
            <ul class="nav-group-tasks">
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Constants.html#/c:@FunkyVersionNumber">FunkyVersionNumber</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Constants.html#/c:@FunkyVersionString">FunkyVersionString</a>
              </li>
            </ul>
          </li>
          <li class="nav-group-name">
            <a class="nav-group-name-link" href="Protocols.html">Protocols</a>
            <ul class="nav-group-tasks">
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Protocols/FunkyCollection.html">FunkyCollection</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Protocols/FunkyCollectionCounterpart.html">FunkyCollectionCounterpart</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Protocols/FunkyMutableCollection.html">FunkyMutableCollection</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Protocols/FunkyMutableCollectionWithCapacity.html">FunkyMutableCollectionWithCapacity</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Protocols/FunkySortComparable.html">FunkySortComparable</a>
              </li>
            </ul>
          </li>
          <li class="nav-group-name">
            <a class="nav-group-name-link" href="Type Definitions.html">Type Definitions</a>
            <ul class="nav-group-tasks">
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Type Definitions.html#/c:FunkyFilterPredicate.h@T@FunkyFilterPredicate">FunkyFilterPredicate</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Type Definitions.html#/c:FunkySortComparableProtocol.h@T@FunkySortBoolComparableBlock">FunkySortBoolComparableBlock</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Type Definitions.html#/c:FunkySortComparableProtocol.h@T@FunkySortComparablePropertyProviderBlock">FunkySortComparablePropertyProviderBlock</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Type Definitions.html#/c:FunkySortComparableProtocol.h@T@FunkySortingBucketFilterBlock">FunkySortingBucketFilterBlock</a>
              </li>
            </ul>
          </li>
        </ul>
      </nav>
      <article class="main-content">

        <section class="section">
          <div class="section-content">
            
            <h1 id='nil-tolerant-collections' class='heading'>Nil-tolerant collections</h1>
<h2 id='subclasses' class='heading'>Subclasses</h2>

<p>Array</p>

<ul>
<li><a href="https://tevelee.github.io/Funky/Classes.html#/c:objc(cs)FunkyNilTolerantNSArray">nil-tolerant NSArray</a></li>
<li><a href="https://tevelee.github.io/Funky/Classes.html#/c:objc(cs)FunkyNilTolerantNSMutableArray">nil-tolerant NSMutableArray</a></li>
</ul>

<p>Set</p>

<ul>
<li><a href="https://tevelee.github.io/Funky/Classes.html#/c:objc(cs)FunkyNilTolerantNSSet">nil-tolerant NSSet</a></li>
<li><a href="https://tevelee.github.io/Funky/Classes.html#/c:objc(cs)FunkyNilTolerantNSMutableSet">nil-tolerant NSMutableSet</a></li>
</ul>

<p>Dictionary</p>

<ul>
<li><a href="https://tevelee.github.io/Funky/Classes.html#/c:objc(cs)FunkyNilTolerantNSDictionary">nil-tolerant NSDictionary</a></li>
<li><a href="https://tevelee.github.io/Funky/Classes.html#/c:objc(cs)FunkyNilTolerantNSMutableDictionary">nil-tolerant NSMutableDictionary</a></li>
</ul>
<h2 id='usage' class='heading'>Usage</h2>

<p>Use the full library</p>
<pre class="highlight ruby"><code><span class="n">pod</span> <span class="s2">"FunkyObjC"</span>
</code></pre>

<p>or the <code>Collections</code> subpod only</p>
<pre class="highlight ruby"><code><span class="n">pod</span> <span class="s2">"FunkyObjC/Collections"</span>
</code></pre>

<p>For the <strong><a href="https://tevelee.github.io/Funky/Classes.html#/c:objc(cs)FunkyNilTolerantNSArray">NSArray extension</a></strong></p>
<pre class="highlight plaintext"><code>#import &lt;Funky/NSArray+NilTolerant.h&gt;
</code></pre>
<pre class="highlight plaintext"><code>NSArray* array = @[@1, @2, @3].nilTolerant
</code></pre>

<p>For the <strong><a href="https://tevelee.github.io/Funky/Classes.html#/c:objc(cs)FunkyNilTolerantNSSet">NSSet extension</a></strong></p>
<pre class="highlight plaintext"><code>#import &lt;Funky/NSSet+NilTolerant.h&gt;
</code></pre>
<pre class="highlight plaintext"><code>NSSet* set = [NSSet setWithObject:@1].nilTolerant
</code></pre>

<p>For the <strong><a href="https://tevelee.github.io/Funky/Classes.html#/c:objc(cs)FunkyNilTolerantNSDictionary">NSDictionary extension</a></strong></p>
<pre class="highlight plaintext"><code>#import &lt;Funky/NSSet+NilTolerant.h&gt;
</code></pre>
<pre class="highlight plaintext"><code>NSDictionary* dictionary = @{@1: @"1"}.nilTolerant
</code></pre>
<h2 id='why' class='heading'>Why?</h2>

<p>Funky comes with some special collections which make you handle nil values easily. It might happen that during a map operation you return nil in the block. Handling it in an easy way by adding an if statement can lead to much bigger issues later on, because you expect the same number of elements before and after the mapping, and maybe you just accidentally returned that nil value. 
Not handling it on the other hand crashes the system, because foundation collection cannot hold nil values, they will crash.</p>

<p>To overcome this limitation I made up a set of special collections which CAN handle nil values properly. For example FunkyNilTolerantNSArray is a subclass of the NSArray class-cluster. It properly handles nil values, by ignoring them, excluding all from the collection and doesn&rsquo;t make your app crash.
It&rsquo;s a proper NSArray subclass, based on Apple&rsquo;s guidance on how to create new subclasses in the NSArray class cluster. To validate it&rsquo;s behaviour, I heavily unit tested, that it won&rsquo;t crash and won&rsquo;t leak and work exactly like the built-in Foundation NSArray. </p>

<p>To create on you can use NSArray&rsquo;s well known initialisers, but using this class, eg. <code>[FunkyNilTolerantNSArray arrayWithObject:@1];</code> or simly transform an existing array to a nil tolerant one using <code>@[@1, @2, @3].nilTolerant</code></p>

<p>So consider the following exaple:</p>
<pre class="highlight plaintext"><code>NSArray* array = @[@0, @1, @2].nilTolerant;
NSLog(@"Items: %@", [array arrayByAddingObject:nil]);
</code></pre>

<p>It does what you expect, leaves the array as it is and doesn&rsquo;t crash your app.</p>

<p>Funky provides nil-tolerant and nil-storing collections as well. It serves with NSArray, NSDictionary, NSSet subclasses and all their mutable counterparts are also included. </p>
<pre class="highlight plaintext"><code>NSMutableArray* array = [NSMutableArray arrayWithObject:@1].nilTolerant;
[array addObject:nil];
[array addObject:@2];
NSLog(@"Item: %@", array[1]);
</code></pre>

<p>This latter example under the hood transforms nil values to <code>[NSNull null]</code> objects, and transforms them back to nil values when accessing using <code>objectAtIndex:</code>. Works of course for addition, insertion, replacement and retrieval. Every use-case is covered properly, tests are providing coverage in all relevant areas.
You can even copy or mutableCopy them, encode with coder or even transform back to original collection instances.</p>

<p>See the <a href="https://tevelee.github.io/Funky/nil-storing-collections.html">nil-storing collections</a> page for more information on the nil-storing counterpart.</p>

          </div>
        </section>


      </article>
    </div>
    <section class="footer">
      <p>&copy; 2017 <a class="link" href="https://tevelee.github.io" target="_blank" rel="external">Laszlo Teveli</a>. All rights reserved. (Last updated: 2017-11-26)</p>
      <p>Generated by <a class="link" href="https://github.com/realm/jazzy" target="_blank" rel="external">jazzy ♪♫ v0.8.2</a>, a <a class="link" href="http://realm.io" target="_blank" rel="external">Realm</a> project.</p>
    </section>
  </body>
</div>
</html>
